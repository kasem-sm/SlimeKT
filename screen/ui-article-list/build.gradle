plugins {
	id("com.android.library")
	id 'com.google.devtools.ksp' version '1.7.10-1.0.6'
}

apply {
	from("$rootDir/gradle/ui.gradle")
}

android {
	libraryVariants.all { variant ->
		kotlin.sourceSets {
			getByName(variant.name) {
				kotlin.srcDir("build/generated/ksp/${variant.name}/kotlin")
			}
		}
	}
	defaultConfig {
		testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
	}
	ksp {
		arg("compose-destinations.mode", "destinations")
		arg("compose-destinations.moduleName", "ui-article-list")
	}
}

provideUiTestDeps(this)

dependencies {
	implementation(project(":task-api"))
	implementation(project(":auth-api"))

	implementation(project(":features:article:common-article-ui"))
	// Article
	implementation(project(":features:article:domain:interactors"))
	implementation(project(":features:article:domain:model"))

	// Topic
	implementation(project(":features:topic:domain:interactors"))
	implementation(project(":features:topic:domain:model"))

	implementation Coil.core

	implementation(Destinations.core)
	ksp(Destinations.ksp)

	androidTestImplementation(project(':common-test-utils'))
}
